{% comment %}
  Arvidsson Footer Module
  Navigation, contact info, legal links, and social media
{% endcomment %}

<footer class="arvidsson-footer" id="footer" role="contentinfo">
  
  <!-- Main Footer Content -->
  <div class="arvidsson-footer__main">
    <div class="container">
      <div class="arvidsson-footer__content">
        
        <!-- Company Info -->
        <div class="arvidsson-footer__section arvidsson-footer__section--company">
          <div class="arvidsson-footer__logo">
            {% if settings.footer_logo %}
              <img src="{{ settings.footer_logo | img_url: '150x' }}" 
                   alt="{{ shop.name }}"
                   class="arvidsson-footer__logo-img">
            {% else %}
              <span class="arvidsson-footer__logo-text">{{ shop.name }}</span>
            {% endif %}
          </div>
          
          {% if section.settings.footer_description %}
            <p class="arvidsson-footer__description">{{ section.settings.footer_description }}</p>
          {% endif %}
          
          <!-- Social Media -->
          {% if section.settings.show_social %}
            <div class="arvidsson-footer__social">
              <h4 class="arvidsson-footer__social-title">Följ oss</h4>
              <div class="arvidsson-footer__social-links">
                
                {% if settings.social_facebook_link != blank %}
                  <a href="{{ settings.social_facebook_link }}" 
                     class="arvidsson-footer__social-link" 
                     aria-label="Facebook"
                     target="_blank" 
                     rel="noopener noreferrer">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                      <path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </a>
                {% endif %}
                
                {% if settings.social_instagram_link != blank %}
                  <a href="{{ settings.social_instagram_link }}" 
                     class="arvidsson-footer__social-link" 
                     aria-label="Instagram"
                     target="_blank" 
                     rel="noopener noreferrer">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                      <rect x="2" y="2" width="20" height="20" rx="5" ry="5" stroke="currentColor" stroke-width="2"/>
                      <path d="m16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z" stroke="currentColor" stroke-width="2"/>
                      <line x1="17.5" y1="6.5" x2="17.51" y2="6.5" stroke="currentColor" stroke-width="2"/>
                    </svg>
                  </a>
                {% endif %}
                
                {% if settings.social_pinterest_link != blank %}
                  <a href="{{ settings.social_pinterest_link }}" 
                     class="arvidsson-footer__social-link" 
                     aria-label="Pinterest"
                     target="_blank" 
                     rel="noopener noreferrer">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                      <path d="M8 14s1.5 2 4 2 4-1 4-4.5-2-4.5-4-4.5-4 1-4 3.5c0 1 0 2.5 1 3v3z" stroke="currentColor" stroke-width="2"/>
                    </svg>
                  </a>
                {% endif %}
                
                {% if settings.social_youtube_link != blank %}
                  <a href="{{ settings.social_youtube_link }}" 
                     class="arvidsson-footer__social-link" 
                     aria-label="YouTube"
                     target="_blank" 
                     rel="noopener noreferrer">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                      <path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z" stroke="currentColor" stroke-width="2"/>
                      <polygon points="9.75,15.02 15.5,11.75 9.75,8.48" fill="currentColor"/>
                    </svg>
                  </a>
                {% endif %}
                
                {% if settings.social_twitter_link != blank %}
                  <a href="{{ settings.social_twitter_link }}" 
                     class="arvidsson-footer__social-link" 
                     aria-label="Twitter"
                     target="_blank" 
                     rel="noopener noreferrer">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                      <path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </a>
                {% endif %}
                
              </div>
            </div>
          {% endif %}
          
        </div>
        
        <!-- Navigation Menus -->
        <div class="arvidsson-footer__section arvidsson-footer__section--nav">
          <h4 class="arvidsson-footer__section-title">Handla</h4>
          <nav class="arvidsson-footer__nav" aria-label="Produktnavigation">
            <ul class="arvidsson-footer__nav-list">
              {% for link in linklists.footer-shop.links %}
                <li class="arvidsson-footer__nav-item">
                  <a href="{{ link.url }}" class="arvidsson-footer__nav-link">{{ link.title }}</a>
                </li>
              {% endfor %}
            </ul>
          </nav>
        </div>
        
        <div class="arvidsson-footer__section arvidsson-footer__section--nav">
          <h4 class="arvidsson-footer__section-title">Kundservice</h4>
          <nav class="arvidsson-footer__nav" aria-label="Kundservicenavigation">
            <ul class="arvidsson-footer__nav-list">
              {% for link in linklists.footer-customer-service.links %}
                <li class="arvidsson-footer__nav-item">
                  <a href="{{ link.url }}" class="arvidsson-footer__nav-link">{{ link.title }}</a>
                </li>
              {% endfor %}
            </ul>
          </nav>
        </div>
        
        <div class="arvidsson-footer__section arvidsson-footer__section--nav">
          <h4 class="arvidsson-footer__section-title">Om oss</h4>
          <nav class="arvidsson-footer__nav" aria-label="Företagsnavigation">
            <ul class="arvidsson-footer__nav-list">
              {% for link in linklists.footer-about.links %}
                <li class="arvidsson-footer__nav-item">
                  <a href="{{ link.url }}" class="arvidsson-footer__nav-link">{{ link.title }}</a>
                </li>
              {% endfor %}
            </ul>
          </nav>
        </div>
        
        <!-- Contact Info & Newsletter -->
        <div class="arvidsson-footer__section arvidsson-footer__section--contact">
          <h4 class="arvidsson-footer__section-title">Kontakt & nyhetsbrev</h4>
          
          <!-- Contact Information -->
          <div class="arvidsson-footer__contact">
            {% if section.settings.contact_phone %}
              <div class="arvidsson-footer__contact-item">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 16.92z" stroke="currentColor" stroke-width="2"/>
                </svg>
                <a href="tel:{{ section.settings.contact_phone | replace: ' ', '' }}">{{ section.settings.contact_phone }}</a>
              </div>
            {% endif %}
            
            {% if section.settings.contact_email %}
              <div class="arvidsson-footer__contact-item">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" stroke="currentColor" stroke-width="2"/>
                  <polyline points="22,6 12,13 2,6" stroke="currentColor" stroke-width="2"/>
                </svg>
                <a href="mailto:{{ section.settings.contact_email }}">{{ section.settings.contact_email }}</a>
              </div>
            {% endif %}
            
            {% if section.settings.contact_address %}
              <div class="arvidsson-footer__contact-item">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z" stroke="currentColor" stroke-width="2"/>
                  <circle cx="12" cy="10" r="3" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span>{{ section.settings.contact_address }}</span>
              </div>
            {% endif %}
            
            {% if section.settings.business_hours %}
              <div class="arvidsson-footer__contact-item">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                  <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                  <polyline points="12,6 12,12 16,14" stroke="currentColor" stroke-width="2"/>
                </svg>
                <span>{{ section.settings.business_hours }}</span>
              </div>
            {% endif %}
          </div>
          
          <!-- Mini Newsletter Signup -->
          {% if section.settings.newsletter_signup %}
            <div class="arvidsson-footer__newsletter">
              <p class="arvidsson-footer__newsletter-text">{{ section.settings.newsletter_text | default: 'Få exklusiva erbjudanden och inspiration' }}</p>
              <form class="arvidsson-footer__newsletter-form" 
                    action="{{ routes.root_url }}contact" 
                    method="post" 
                    accept-charset="UTF-8">
                <input type="hidden" name="form_type" value="customer">
                <input type="hidden" name="utf8" value="✓">
                <input type="hidden" name="contact[tags]" value="newsletter">
                
                <div class="arvidsson-footer__newsletter-input-group">
                  <input type="email" 
                         name="contact[email]" 
                         placeholder="Din e-postadress"
                         class="arvidsson-footer__newsletter-input"
                         required>
                  <button type="submit" class="arvidsson-footer__newsletter-btn" aria-label="Prenumerera">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                      <path d="M5 12h14M12 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                  </button>
                </div>
              </form>
            </div>
          {% endif %}
          
        </div>
        
      </div>
    </div>
  </div>
  
  <!-- Footer Bottom -->
  <div class="arvidsson-footer__bottom">
    <div class="container">
      <div class="arvidsson-footer__bottom-content">
        
        <!-- Payment Methods -->
        {% if section.settings.show_payment_methods %}
          <div class="arvidsson-footer__payments">
            <span class="arvidsson-footer__payments-label">Vi accepterar:</span>
            <div class="arvidsson-footer__payments-list">
              {% for type in shop.enabled_payment_types %}
                {{ type | payment_type_svg_tag: class: 'arvidsson-footer__payment-icon' }}
              {% endfor %}
            </div>
          </div>
        {% endif %}
        
        <!-- Legal Links & Copyright -->
        <div class="arvidsson-footer__legal">
          <nav class="arvidsson-footer__legal-nav" aria-label="Juridisk navigation">
            <ul class="arvidsson-footer__legal-list">
              {% for link in linklists.footer-legal.links %}
                <li class="arvidsson-footer__legal-item">
                  <a href="{{ link.url }}" class="arvidsson-footer__legal-link">{{ link.title }}</a>
                </li>
              {% endfor %}
            </ul>
          </nav>
          
          <div class="arvidsson-footer__copyright">
            <p>&copy; {{ 'now' | date: '%Y' }} {{ shop.name }}. Alla rättigheter förbehållna.</p>
            {% if section.settings.powered_by_text %}
              <p class="arvidsson-footer__powered-by">{{ section.settings.powered_by_text }}</p>
            {% endif %}
          </div>
        </div>
        
        <!-- Back to Top -->
        <button class="arvidsson-footer__back-to-top" 
                id="back-to-top" 
                aria-label="Tillbaka till toppen"
                style="display: none;">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
            <path d="M7 13l5-5 5 5M7 19l5-5 5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </button>
        
      </div>
    </div>
  </div>
  
</footer>

{% schema %}
{
  "name": "Footer",
  "settings": [
    {
      "type": "header",
      "content": "Company Information"
    },
    {
      "type": "textarea",
      "id": "footer_description",
      "label": "Company Description",
      "default": "Arvidsson erbjuder skandinavisk design av högsta kvalitet för ditt hem."
    },
    {
      "type": "header",
      "content": "Social Media"
    },
    {
      "type": "checkbox",
      "id": "show_social",
      "label": "Show social media links",
      "default": true
    },
    {
      "type": "header",
      "content": "Contact Information"
    },
    {
      "type": "text",
      "id": "contact_phone",
      "label": "Phone Number"
    },
    {
      "type": "text",
      "id": "contact_email",
      "label": "Email Address"
    },
    {
      "type": "textarea",
      "id": "contact_address",
      "label": "Address"
    },
    {
      "type": "text",
      "id": "business_hours",
      "label": "Business Hours",
      "default": "Mån-Fre 9:00-17:00"
    },
    {
      "type": "header",
      "content": "Newsletter"
    },
    {
      "type": "checkbox",
      "id": "newsletter_signup",
      "label": "Show newsletter signup",
      "default": true
    },
    {
      "type": "text",
      "id": "newsletter_text",
      "label": "Newsletter Text",
      "default": "Få exklusiva erbjudanden och inspiration"
    },
    {
      "type": "header",
      "content": "Payment & Legal"
    },
    {
      "type": "checkbox",
      "id": "show_payment_methods",
      "label": "Show payment methods",
      "default": true
    },
    {
      "type": "text",
      "id": "powered_by_text",
      "label": "Powered by text",
      "info": "Optional text to show below copyright"
    }
  ]
}
{% endschema %}
